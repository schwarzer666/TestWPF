<UserControl x:Class="TemperatureCharacteristics.Views.Controls.InstrumentRowControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:TemperatureCharacteristics.Views.Controls">
	
	<Grid Height="30">
		<Grid.Resources>
			<Style TargetType="CheckBox">
				<Setter Property="Margin" Value="10,7,0,0"/>
			</Style>
			<Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
				<Setter Property="FontSize" Value="12"/>
			</Style>
		</Grid.Resources>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="70"/>
			<ColumnDefinition Width="310*"/>
			<ColumnDefinition Width="80"/>
		</Grid.ColumnDefinitions>

		<!--測定器使用チェック-->
		<CheckBox 
			Content="{Binding DisplayName}"
			IsChecked="{Binding IsChecked, Mode=TwoWay}"
			Grid.Column="0"/>

		<!--USB ID 入力欄-->
		<ComboBox
			ItemsSource="{Binding USBIDList}"
			IsEditable="True"
			Text="{Binding UsbId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
			IsEnabled="{Binding IsChecked}"
			Margin="1"
			Grid.Column="1"/>
		<!--通信確認成功インジケータ-->
		<TextBlock 
			Text="✔"
			VerticalAlignment="Center"
			HorizontalAlignment="Right"
			Margin="0,0,20,5"
			FontSize="14"
			Foreground="LightGreen"
			Grid.Column="1">
			<TextBlock.Style>
				<Style TargetType="TextBlock">
					<Setter Property="Visibility" Value="Collapsed"/>
					<Style.Triggers>
						<DataTrigger Binding="{Binding IsConnected}" Value="True">
							<Setter Property="Visibility" Value="Visible"/>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</TextBlock.Style>
		</TextBlock>

		<!--SignalName（必要な測定器だけ表示）-->
		<TextBox 
			Text="{Binding InstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
			VerticalContentAlignment="Center"
			IsEnabled="{Binding IsChecked}"
			Margin="2"
			Grid.Column="2">
			<TextBox.Style>
				<Style TargetType="TextBox">
					<Setter Property="Visibility" Value="Collapsed"/>
					<Style.Triggers>
						<DataTrigger Binding="{Binding HasSignalName}" Value="True">
							<Setter Property="Visibility" Value="Visible"/>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</TextBox.Style>
		</TextBox>

	</Grid>
</UserControl>
