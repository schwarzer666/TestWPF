<UserControl x:Class="TemperatureCharacteristics.Views.Controls.PulseGenSettingControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:TemperatureCharacteristics.Views.Controls">
    <Grid>
		<GroupBox
			Header="{Binding Header, RelativeSource={RelativeSource AncestorType=UserControl}}"
			Background="GreenYellow">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="60"/>
					<ColumnDefinition Width="40"/>
					<ColumnDefinition Width="53*"/>
				</Grid.ColumnDefinitions>
				<Label 
					Content="OUTP CH"
					Grid.Row="0" Grid.Column="0"/>
				<ComboBox 
					ItemsSource="{Binding Resources.OutputCHItems}"
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.OutputChIndex, Mode=TwoWay, FallbackValue=1}"
					Width="47"
					Grid.Row="0" Grid.Column="1"
					Grid.ColumnSpan="2">
					<ComboBox.ItemTemplate>
						<DataTemplate>
							<TextBlock 
								Text="{Binding Name}"
								Background="{Binding Tag, Converter={StaticResource TagToBrushConverter}}"/>
						</DataTemplate>
					</ComboBox.ItemTemplate>
				</ComboBox>
				<Label 
					Content="Low Lev." 
					Grid.Row="1" Grid.Column="0">
					<Label.ToolTip>
						<ToolTip>
							<TextBlock>
								Limit値を入力
							</TextBlock>
						</ToolTip>
					</Label.ToolTip>
				</Label>
				<TextBox 
					Text="{Binding PulseGenConfig.LowValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					Grid.Row="1" Grid.Column="1"/>
				<ComboBox
					ItemsSource="{Binding Resources.UnitsItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.LowVUnitIndex, Mode=TwoWay, FallbackValue=1}"
					Width="45"
					Grid.Row="1" Grid.Column="2"/>
				<Label 
					Content="High Lev." 
					Grid.Row="2" Grid.Column="0">
					<Label.ToolTip>
						<ToolTip>
							<TextBlock>
								Limit値を入力
							</TextBlock>
						</ToolTip>
					</Label.ToolTip>
				</Label>
				<TextBox 
					Text="{Binding PulseGenConfig.HighValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					Grid.Row="2" Grid.Column="1"/>
				<ComboBox
					ItemsSource="{Binding Resources.UnitsItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.HighVUnitIndex, Mode=TwoWay, FallbackValue=1}"
					Width="45"
					Grid.Row="2" Grid.Column="2"/>
				<Label 
					Content="出力極性"
					ToolTipService.IsEnabled="{Binding ShowToolTip, RelativeSource={RelativeSource AncestorType=UserControl}}"
					Grid.Row="3" Grid.Column="0">
					<Label.ToolTip>
						<ToolTip>
							<TextBlock>
								"Normal"を選択した場合HighLev.を+方向にSweep<LineBreak/>
								"Inverted"を選択した場合LowLev.を-方向にSweep
							</TextBlock>
						</ToolTip>
					</Label.ToolTip>
				</Label>
				<ComboBox
					ItemsSource="{Binding Resources.PolarityItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.PolarityIndex, Mode=TwoWay, FallbackValue=0}"
					Width="70"
					Grid.Row="3" Grid.Column="1"
					Grid.ColumnSpan="2"/>
				<Label 
					Content="Period" 
					Grid.Row="4" Grid.Column="0"/>
				<TextBox 
					Text="{Binding PulseGenConfig.PeriodValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					Grid.Row="4" Grid.Column="1"/>
				<ComboBox 
					ItemsSource="{Binding Resources.TimeUnits}"
					DisplayMemberPath="Name" 
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.PeriodUnitIndex, Mode=TwoWay, FallbackValue=0}"
					Width="45"
					Grid.Row="4" Grid.Column="2"/>
				<Label 
					Content="Width"
					ToolTipService.IsEnabled="{Binding ShowToolTip, RelativeSource={RelativeSource AncestorType=UserControl}}"
					Grid.Row="5" Grid.Column="0">
					<Label.ToolTip>
						<ToolTip>
							<TextBlock>
								出力極性"Normal"の場合HighLev.区間の幅<LineBreak/>
								出力極性"Inverted"の場合LowLev.区間の幅
							</TextBlock>
						</ToolTip>
					</Label.ToolTip>
				</Label>
				<TextBox 
					Text="{Binding PulseGenConfig.WidthValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					Grid.Row="5" Grid.Column="1"/>
				<ComboBox 
					ItemsSource="{Binding Resources.TimeUnits}"
					DisplayMemberPath="Name" 
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.WidthUnitIndex, Mode=TwoWay, FallbackValue=1}"
					Width="45"
					Grid.Row="5" Grid.Column="2"/>
				<Label 
					Content="OUTP Z" 
					Grid.Row="6" Grid.Column="0"/>
				<ComboBox 
					ItemsSource="{Binding Resources.OutputZItems}"
					DisplayMemberPath="Name" 
					IsReadOnly="True"
					SelectedIndex="{Binding PulseGenConfig.OutputLoadIndex, Mode=TwoWay, FallbackValue=0}"
					Width="60"
					Grid.Row="6" Grid.Column="1"
					Grid.ColumnSpan="2"/>
				<Label 
					Content="TRIG OUT"
					Visibility="{Binding ShowTrigOutComboBox, RelativeSource={RelativeSource AncestorType=UserControl}, 
										Converter={StaticResource BooleanToCollapsedVisibilityConverter}}"
					Grid.Row="7" Grid.Column="0">
					<Label.ToolTip>
						<ToolTip>
							<TextBlock>
								TRIG OUTをONにした場合<LineBreak/>
								OSC設定1のTRIGはRise Edgeにしてください<LineBreak/>
								さらにTRGLev.を1Vにしてください
							</TextBlock>
						</ToolTip>
					</Label.ToolTip>
				</Label>
				<ComboBox 
					ItemsSource="{Binding Resources.OutputOnOffItems}"
					DisplayMemberPath="Name" 
					IsReadOnly="True"
					SelectedIndex="{Binding SelectedTrigOutIndex, RelativeSource={RelativeSource AncestorType=UserControl}, 
											Mode=TwoWay, FallbackValue=0}"
					Visibility="{Binding ShowTrigOutComboBox, RelativeSource={RelativeSource AncestorType=UserControl}, 
										Converter={StaticResource BooleanToCollapsedVisibilityConverter}}"
					Width="60"
					Grid.Row="7" Grid.Column="1"
					Grid.ColumnSpan="2"/>
			</Grid>
		</GroupBox>
	</Grid>
</UserControl>
