<UserControl x:Class="TemperatureCharacteristics.Views.Controls.DetectReleaseControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:TemperatureCharacteristics.Views.Controls">
    <Grid>
		<GroupBox
			Header="{Binding Header, RelativeSource={RelativeSource AncestorType=UserControl}}"
			Background="LightPink">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
					<RowDefinition Height="25"/>
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="55"/>
					<ColumnDefinition Width="40"/>
					<ColumnDefinition Width="50"/>
				</Grid.ColumnDefinitions>
				<!--SweepTab専用ComboBox-->
				<!--normal-->
				<!--　→①全電源初期値に戻す（Sweep電源=Start値,Constant電源=const値-->
				<!--　→②指定秒数待機で検出/復帰を確認-->
				<!--　→③Sweep継続-->
				<!--normal+α-->
				<!--　→①全電源初期値に戻す（Sweep電源=Start値,Constant電源=const値-->
				<!--　→②ユーザー選択電源をユーザー入力値に設定-->
				<!--　→③指定秒数待機で検出/復帰を確認-->
				<!--　→④ユーザー選択電源を初期値に設定-->
				<!--　→⑤Sweep継続-->
				<ComboBox
					ItemsSource="{Binding Resources.DetRelActItems}"
					IsReadOnly="True"
					SelectedIndex="{Binding DetectReleaseConfig.DetectReleaseIndex, Mode=TwoWay}"
					Visibility="{Binding ShowAction, RelativeSource={RelativeSource AncestorType=UserControl}, 
										Converter={StaticResource BooleanToCollapsedVisibilityConverter}}"
					HorizontalAlignment="Left"
					Width="100"
					Grid.Row="0" Grid.Column="0"
					Grid.ColumnSpan="3"/>
				<!--以下全Tab共通-->
				<ComboBox
					ItemsSource="{Binding Resources.SourceItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding DetectSourceAIndex, Mode=TwoWay}"
					IsEnabled="{Binding DetectReleaseConfig.DetectReleaseIndex, Converter={StaticResource DetectReleaseIndexToEnabledConverter}}"
					Width="55"
					Grid.Row="1" Grid.Column="0"/>
				<TextBox
					Text="{Binding DetectReleaseConfig.DetectReleaseA, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					IsEnabled="{Binding DetectReleaseConfig.DetectReleaseIndex, Converter={StaticResource DetectReleaseIndexToEnabledConverter}}"
					Grid.Row="1" Grid.Column="1"/>
				<ComboBox
					ItemsSource="{Binding Resources.UnitsItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding DetectReleaseConfig.DetectUnitAIndex, Mode=TwoWay}"
					IsEnabled="{Binding DetectReleaseConfig.DetectReleaseIndex, Converter={StaticResource DetectReleaseIndexToEnabledConverter}}"
					Width="45"
					Grid.Row="1" Grid.Column="2"/>
				<ComboBox
					ItemsSource="{Binding Resources.SourceItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding DetectSourceBIndex, Mode=TwoWay}"
					IsEnabled="{Binding DetectReleaseConfig.DetectReleaseIndex, Converter={StaticResource DetectReleaseIndexToEnabledConverter}}"
					Width="55"
					Grid.Row="2" Grid.Column="0"/>
				<TextBox
					Text="{Binding DetectReleaseConfig.DetectReleaseB, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					IsEnabled="{Binding DetectReleaseConfig.DetectReleaseIndex, Converter={StaticResource DetectReleaseIndexToEnabledConverter}}"
					Grid.Row="2" Grid.Column="1"/>
				<ComboBox
					ItemsSource="{Binding Resources.UnitsItems}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding DetectReleaseConfig.DetectUnitBIndex, Mode=TwoWay}"
					IsEnabled="{Binding DetectReleaseConfig.DetectReleaseIndex, Converter={StaticResource DetectReleaseIndexToEnabledConverter}}"
					Width="45"
					Grid.Row="2" Grid.Column="2"/>
				<Label 
					Content="保持時間"
					FontSize="10"
					Grid.Row="3" Grid.Column="0"/>
				<TextBox
					Text="{Binding DetectReleaseConfig.CheckTime, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
					Grid.Row="4" Grid.Column="1"/>
				<ComboBox
					ItemsSource="{Binding Resources.TimeUnits}"
					DisplayMemberPath="Name"
					IsReadOnly="True"
					SelectedIndex="{Binding DetectReleaseConfig.CheckTimeUnitIndex, Mode=TwoWay}"
					Width="45"
					Grid.Row="4" Grid.Column="2"/>
			</Grid>
		</GroupBox>
	</Grid>
</UserControl>
